{"version":3,"sources":["webpack:///../../../src/components/VApp/VApp.ts","webpack:///./src/views/dashboard/Index.vue?cf85","webpack:///src/views/dashboard/Index.vue","webpack:///./src/views/dashboard/Index.vue?c33c","webpack:///./src/views/dashboard/Index.vue","webpack:///./src/api/service/account.js"],"names":["name","props","dark","type","default","undefined","id","light","computed","isDark","this","$vuetify","theme","beforeCreate","Error","render","wrapper","h","staticClass","$slots","class","themeClasses","attrs","domProps","_vm","_h","$createElement","_c","_self","staticRenderFns","components","DashboardAppBar","DashboardDrawer","DashboardView","DashboardFooter","DashboardSettings","mounted","account","console","log","$router","push","component","VApp","login","username","password","Promise","resolve","reject","LC","User","logIn","then","user","error","catch","isLoggedIn","currentUser","current","logout","logOut","signUp","email","setUsername","setPassword","setEmail"],"mappings":"oKAUe,qCAEN,CACPA,KADO,QAGPC,MAAO,CACLC,KAAM,CACJC,KADI,QAEJC,aAASC,GAEXC,GAAI,CACFH,KADE,OAEFC,QAAS,OAEXG,MAAO,CACLJ,KADK,QAELC,aAASC,IAIbG,SAAU,CACRC,OADQ,WAEN,OAAOC,KAAKC,SAASC,MAArB,OAIJC,aAxBO,WAyBL,IAAKH,KAAD,UAAmBA,KAAKC,WAAaD,KAAzC,MACE,MAAM,IAAII,MAAV,gIAIJC,OA9BO,SA8BD,GACJ,IAAMC,EAAUC,EAAE,MAAO,CAAEC,YAAa,uBAAyBR,KAAKS,OAAtE,SAEA,OAAOF,EAAE,MAAO,CACdC,YADc,gBAEdE,MAAO,gBACL,wBAAyBV,KAAKC,SADzB,IAEL,yBAA0BD,KAAKC,SAF1B,KAGFD,KAAKW,cAEVC,MAAO,CAAE,YAAY,GACrBC,SAAU,CAAEjB,GAAII,KAAKJ,KACpB,CATH,Q,yCC7CJ,IAAIS,EAAS,WAAa,IAAIS,EAAId,KAASe,EAAGD,EAAIE,eAAmBC,EAAGH,EAAII,MAAMD,IAAIF,EAAG,OAAOE,EAAG,QAAQ,CAACA,EAAG,qBAAqBA,EAAG,oBAAoBA,EAAG,kBAAkBA,EAAG,oBAAoBA,EAAG,uBAAuB,IAC7NE,EAAkB,G,wBCoBtB,GACE7B,KAAM,iBAGN8B,WAAY,CAEVC,gBAAiB,WAArB,yIACIC,gBAAiB,WAArB,mHACIC,cAAe,WAAnB,wDACIC,gBAAiB,WAArB,wDACIC,kBAAmB,WAAvB,OACA,mIAGEC,QAdF,WAgBSC,EAAT,oBACMC,QAAQC,IAAI,SACZ7B,KAAK8B,QAAQC,KAAK,eCvCsU,I,6CCO1VC,EAAY,eACd,EACA3B,EACAc,GACA,EACA,KACA,KACA,MAIa,aAAAa,EAAiB,QAKhC,IAAkBA,EAAW,CAACC,OAAA,Q,4FCN1BC,EAAQ,SAACC,EAAUC,GACnB,OAAO,IAAIC,SAAQ,SAACC,EAASC,GACzBC,IAAGC,KAAKC,MAAMP,EAAUC,GACvBO,MAAK,SAAAC,GACFhB,QAAQC,IAAIe,GACZN,EAAQM,MACT,SAAAC,GACCjB,QAAQC,IAAIgB,GACZN,EAAOM,MACRC,OAAM,SAAAD,GACLN,EAAOM,UAWfE,EAAW,WACX,IAAIC,EAAcR,IAAGC,KAAKQ,UAC1B,QAAGD,IACCpB,QAAQC,IAAImB,GACLA,IAUXE,EAAS,WACTV,IAAGC,KAAKU,SACRvB,QAAQC,IAAIW,IAAGC,KAAKQ,YAUpBG,EAAS,SAACjB,EAAUC,GAAqB,IAAXiB,EAAW,uDAAL,GAChCT,EAAO,IAAIJ,IAAGC,KAOlB,OANAG,EAAKU,YAAYnB,GACjBS,EAAKW,YAAYnB,GACdiB,GACCT,EAAKY,SAASH,GAGX,IAAIhB,SAAQ,SAACC,EAASC,GACzBK,EAAKQ,SACJT,MAAK,SAAAC,GACFhB,QAAQC,IAAI,QACZS,EAAQM,MACT,SAAAC,GACCjB,QAAQC,IAAI,SAAUgB,GACtBN,EAAOM,MAEVC,OAAM,SAAAD,GACHjB,QAAQC,IAAI,cAAcgB,GAC1BN,EAAOM,UAOJ,QACXX,QACAa,aACAG,SACAE","file":"js/chunk-92f3b738.bd7bf57a.js","sourcesContent":["// Styles\nimport './VApp.sass'\n\n// Mixins\nimport Themeable from '../../mixins/themeable'\n\n// Utilities\nimport mixins from '../../util/mixins'\n\n/* @vue/component */\nexport default mixins(\n  Themeable\n).extend({\n  name: 'v-app',\n\n  props: {\n    dark: {\n      type: Boolean,\n      default: undefined,\n    },\n    id: {\n      type: String,\n      default: 'app',\n    },\n    light: {\n      type: Boolean,\n      default: undefined,\n    },\n  },\n\n  computed: {\n    isDark (): boolean {\n      return this.$vuetify.theme.dark\n    },\n  },\n\n  beforeCreate () {\n    if (!this.$vuetify || (this.$vuetify === this.$root as any)) {\n      throw new Error('Vuetify is not properly initialized, see https://vuetifyjs.com/getting-started/quick-start#bootstrapping-the-vuetify-object')\n    }\n  },\n\n  render (h) {\n    const wrapper = h('div', { staticClass: 'v-application--wrap' }, this.$slots.default)\n\n    return h('div', {\n      staticClass: 'v-application',\n      class: {\n        'v-application--is-rtl': this.$vuetify.rtl,\n        'v-application--is-ltr': !this.$vuetify.rtl,\n        ...this.themeClasses,\n      },\n      attrs: { 'data-app': true },\n      domProps: { id: this.id },\n    }, [wrapper])\n  },\n})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-app',[_c('dashboard-app-bar'),_c('dashboard-drawer'),_c('dashboard-view'),_c('dashboard-footer'),_c('dashboard-settings')],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!--\r\n * @Author: your name\r\n * @Date: 2020-11-09 08:29:00\r\n * @LastEditTime: 2020-11-30 08:42:18\r\n * @LastEditors: Please set LastEditors\r\n * @Description: In User Settings Edit\r\n * @FilePath: \\book-store1901-app\\src\\views\\dashboard\\Index.vue\r\n-->\r\n<template>\r\n  <v-app>\r\n    <dashboard-app-bar />\r\n    <dashboard-drawer />\r\n    <dashboard-view />\r\n    <dashboard-footer />\r\n    <dashboard-settings />\r\n  </v-app>\r\n</template>\r\n\r\n<script>\r\nimport account from \"@/api/service/account.js\";\r\n\r\nexport default {\r\n  name: \"DashboardIndex\", // 组件名\r\n\r\n  // 注册要使用的外部组件\r\n  components: {\r\n    // 导入并注册组件\r\n    DashboardAppBar: () => import(\"@/views/dashboard/components/AppBar.vue\"),\r\n    DashboardDrawer: () => import(\"@/views/dashboard/components/Drawer.vue\"),\r\n    DashboardView: () => import(\"@/views/dashboard/components/View.vue\"),\r\n    DashboardFooter: () => import(\"@/views/dashboard/components/Footer.vue\"),\r\n    DashboardSettings: () =>\r\n      import(\"@/views/dashboard/components/Settings.vue\"),\r\n  },\r\n\r\n  mounted() {\r\n    // 检测是否有已登录的账号\r\n    if (!account.isLoggedIn()) {\r\n      console.log(\"无效的用户\");\r\n      this.$router.push(\"/account\"); // 没有登录，跳转到账号模块\r\n    }\r\n    \r\n  },\r\n};\r\n</script>\r\n\r\n<style>\r\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Index.vue?vue&type=template&id=1af785af&\"\nimport script from \"./Index.vue?vue&type=script&lang=js&\"\nexport * from \"./Index.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VApp } from 'vuetify/lib/components/VApp';\ninstallComponents(component, {VApp})\n","/*\r\n * @Author: your name\r\n * @Date: 2020-11-23 10:41:38\r\n * @LastEditTime: 2020-11-30 09:42:07\r\n * @LastEditors: Please set LastEditors\r\n * @Description: In User Settings Edit\r\n * @FilePath: \\book-store1901-app\\src\\api\\service\\account.js\r\n */\r\nimport LC from 'leancloud-storage';\r\n\r\n\r\n/**\r\n * @description:  用户登录 \r\n * @param {*} username\r\n * @param {*} password\r\n * @return {*}\r\n */\r\nlet login = (username, password)=>{\r\n    return new Promise((resolve, reject)=>{\r\n        LC.User.logIn(username, password)\r\n        .then(user=>{\r\n            console.log(user);\r\n            resolve(user);    // resolve()返回成功之后的结果，被 then()接收\r\n        }, error=>{\r\n            console.log(error);\r\n            reject(error);    // reject() 返回失败的信息， 被catch()接收\r\n        }).catch(error=>{\r\n            reject(error); \r\n        });\r\n\r\n    });\r\n};\r\n\r\n/**\r\n * @description: 判断是否有已经登录的账号\r\n * @param {*}\r\n * @return {*}\r\n */\r\nlet isLoggedIn=()=>{\r\n    let currentUser = LC.User.current();\r\n    if(currentUser){\r\n        console.log(currentUser);\r\n        return currentUser;  //已登录返回当前用户\r\n    }\r\n    return false;    // 没有登录，返回false\r\n};\r\n\r\n/**\r\n * @description: 主动登出用户\r\n * @param {*}\r\n * @return {*}\r\n */\r\nlet logout = ()=>{\r\n    LC.User.logOut();\r\n    console.log(LC.User.current());\r\n};\r\n\r\n/**\r\n * @description:  注册新用户，成功的在后继 .then() 进行处理，失败的在 .catch()处理\r\n * @param {*} username\r\n * @param {*} password\r\n * @param {*} email\r\n * @return {*}\r\n */\r\nlet signUp = (username, password, email='')=>{\r\n    let user = new LC.User();    // 实例化一个用户\r\n    user.setUsername(username);  // 设置用户名\r\n    user.setPassword(password);  // 设置用户密码\r\n    if(email){\r\n        user.setEmail(email);\r\n    }\r\n\r\n    return new Promise((resolve, reject)=>{\r\n        user.signUp()\r\n        .then(user=>{\r\n            console.log(\"注册成功\");\r\n            resolve(user);  // 返回成功注册后的用户信息\r\n        }, error=>{\r\n            console.log(\"注册不成功：\", error);\r\n            reject(error); // 返回注册失败的错误信息，此处一般为用户名或邮箱已被使用\r\n        })\r\n        .catch(error=>{\r\n            console.log(\"注册过程中出现意外： \",error);\r\n            reject(error);    // 返回其他意外导致的错误信息，如网络问题等\r\n        });\r\n    });\r\n};\r\n\r\n\r\n\r\nexport default {\r\n    login,\r\n    isLoggedIn,\r\n    logout,\r\n    signUp,\r\n}"],"sourceRoot":""}